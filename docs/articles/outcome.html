<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Outcome data • TwoSampleMR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Outcome data">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TwoSampleMR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/index.html">Guide</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mrcieu/TwoSampleMR">Source</a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Outcome data</h1>
                        <h4 class="author">Gibran Hemani</h4>
            
      
      
      <div class="hidden name"><code>outcome.Rmd</code></div>

    </div>

    
    
<p>Once instruments for the exposure trait have been specified, those variants need to be extracted from the outcome trait.</p>
<div id="available-studies-in-ieu-gwas-database" class="section level2">
<h2 class="hasAnchor">
<a href="#available-studies-in-ieu-gwas-database" class="anchor"></a>Available studies in IEU GWAS database</h2>
<p>The IEU GWAS database (IGD) contains complete GWAS summary statistics from a large number of studies. You can browse them here:</p>
<p><a href="https://gwas.mrcieu.ac.uk/" class="uri">https://gwas.mrcieu.ac.uk/</a></p>
<p>To obtain details about the available GWASs programmatically do the following:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>ao &lt;-<span class="st"> </span><span class="kw"><a href="../reference/available_outcomes.html">available_outcomes</a></span>()</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="co">#&gt; API: public: http://gwas-api.mrcieu.ac.uk/</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(ao)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co">#&gt; # A tibble: 6 x 20</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co">#&gt;   id    trait sample_size   nsnp  year consortium author note  access    mr</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;       &lt;int&gt;  &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;  &lt;int&gt;</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co">#&gt; 1 eqtl~ ENSG~       31684 1.80e4  2018 NA         Vosa U NA    public     1</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="co">#&gt; 2 ukb-~ Diag~      361194 1.09e7  2018 NA         Neale~ NA    public     1</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="co">#&gt; 3 ubm-~ NET1~        7916 1.17e7  2018 NA         Ellio~ NA    public     1</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="co">#&gt; 4 prot~ Cyst~        3301 1.05e7  2018 NA         Sun BB NA    public     1</span></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="co">#&gt; 5 eqtl~ ENSG~       31684 1.61e4  2018 NA         Vosa U NA    public     1</span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="co">#&gt; 6 ubm-~ IDP ~        7532 1.17e7  2018 NA         Ellio~ NA    public     1</span></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="co">#&gt; # ... with 10 more variables: sex &lt;chr&gt;, priority &lt;int&gt;, population &lt;chr&gt;,</span></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="co">#&gt; #   unit &lt;chr&gt;, subcategory &lt;chr&gt;, category &lt;chr&gt;, ncase &lt;int&gt;, ncontrol &lt;int&gt;,</span></span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="co">#&gt; #   pmid &lt;int&gt;, sd &lt;dbl&gt;</span></span></code></pre></div>
<p>For information about authentication see <a href="https://github.com/MRCIEU/ieugwasr/blob/master/README.md#authentication">https://github.com/MRCIEU/ieugwasr/blob/master/README.md#authentication</a>.</p>
<p>The <code>available_outcomes</code> function returns a table of all the available studies in the database. Each study has a unique ID. e.g.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/subset.html">subset</a></span>(ao, <span class="dt">select=</span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(trait, id)))</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="co">#&gt; # A tibble: 6 x 2</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co">#&gt;   trait                                                   id                    </span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co">#&gt;   &lt;chr&gt;                                                   &lt;chr&gt;                 </span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="co">#&gt; 1 ENSG00000121749                                         eqtl-a-ENSG00000121749</span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="co">#&gt; 2 Diagnoses - main ICD10: R00 Abnormalities of heart beat ukb-d-R00             </span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co">#&gt; 3 NET100 0767                                             ubm-a-1923            </span></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="co">#&gt; 4 Cysteine-rich motor neuron 1 protein                    prot-a-660            </span></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="co">#&gt; 5 ENSG00000175592                                         eqtl-a-ENSG00000175592</span></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="co">#&gt; 6 IDP dMRI TBSS ISOVF Middle cerebellar peduncle          ubm-a-580</span></span></code></pre></div>
</div>
<div id="extracting-particular-snps-from-particular-studies" class="section level2">
<h2 class="hasAnchor">
<a href="#extracting-particular-snps-from-particular-studies" class="anchor"></a>Extracting particular SNPs from particular studies</h2>
<p>If we want to perform MR of BMI against coronary heart disease, we need to identify the SNPs that influence the BMI, and then extract those SNPs from a GWAS on coronary heart disease.</p>
<p>Let’s get the Locke et al 2014 instruments for BMI as an example:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>bmi_exp_dat &lt;-<span class="st"> </span><span class="kw"><a href="../reference/extract_instruments.html">extract_instruments</a></span>(<span class="dt">outcomes=</span><span class="st">'ieu-a-2'</span>)</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(bmi_exp_dat)</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">#&gt;   pval.exposure samplesize.exposure chr.exposure se.exposure beta.exposure</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">#&gt; 1   2.18198e-08              339152            1      0.0030       -0.0168</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co">#&gt; 2   4.56773e-11              339065            1      0.0031        0.0201</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co">#&gt; 3   5.05941e-14              313621            1      0.0087        0.0659</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co">#&gt; 4   1.93299e-08              294030            3      0.0033        0.0183</span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="co">#&gt; 5   2.53501e-10              337750            6      0.0033        0.0209</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="co">#&gt; 6   4.52376e-31              339197            6      0.0038        0.0444</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="co">#&gt;   pos.exposure id.exposure        SNP effect_allele.exposure</span></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="co">#&gt; 1     47684677     ieu-a-2   rs977747                      G</span></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="co">#&gt; 2     78048331     ieu-a-2 rs17381664                      C</span></span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="co">#&gt; 3    110082886     ieu-a-2  rs7550711                      T</span></span>
<span id="cb3-14"><a href="#cb3-14"></a><span class="co">#&gt; 4     81792112     ieu-a-2  rs3849570                      A</span></span>
<span id="cb3-15"><a href="#cb3-15"></a><span class="co">#&gt; 5     34828553     ieu-a-2  rs6457796                      C</span></span>
<span id="cb3-16"><a href="#cb3-16"></a><span class="co">#&gt; 6     50865820     ieu-a-2   rs943005                      T</span></span>
<span id="cb3-17"><a href="#cb3-17"></a><span class="co">#&gt;   other_allele.exposure eaf.exposure                      exposure</span></span>
<span id="cb3-18"><a href="#cb3-18"></a><span class="co">#&gt; 1                     T       0.5333 Body mass index || id:ieu-a-2</span></span>
<span id="cb3-19"><a href="#cb3-19"></a><span class="co">#&gt; 2                     T       0.4250 Body mass index || id:ieu-a-2</span></span>
<span id="cb3-20"><a href="#cb3-20"></a><span class="co">#&gt; 3                     C       0.0339 Body mass index || id:ieu-a-2</span></span>
<span id="cb3-21"><a href="#cb3-21"></a><span class="co">#&gt; 4                     C       0.3667 Body mass index || id:ieu-a-2</span></span>
<span id="cb3-22"><a href="#cb3-22"></a><span class="co">#&gt; 5                     T       0.2583 Body mass index || id:ieu-a-2</span></span>
<span id="cb3-23"><a href="#cb3-23"></a><span class="co">#&gt; 6                     C       0.1000 Body mass index || id:ieu-a-2</span></span>
<span id="cb3-24"><a href="#cb3-24"></a><span class="co">#&gt;   mr_keep.exposure pval_origin.exposure data_source.exposure</span></span>
<span id="cb3-25"><a href="#cb3-25"></a><span class="co">#&gt; 1             TRUE             reported                  igd</span></span>
<span id="cb3-26"><a href="#cb3-26"></a><span class="co">#&gt; 2             TRUE             reported                  igd</span></span>
<span id="cb3-27"><a href="#cb3-27"></a><span class="co">#&gt; 3             TRUE             reported                  igd</span></span>
<span id="cb3-28"><a href="#cb3-28"></a><span class="co">#&gt; 4             TRUE             reported                  igd</span></span>
<span id="cb3-29"><a href="#cb3-29"></a><span class="co">#&gt; 5             TRUE             reported                  igd</span></span>
<span id="cb3-30"><a href="#cb3-30"></a><span class="co">#&gt; 6             TRUE             reported                  igd</span></span></code></pre></div>
<p>We now need to find a suitable GWAS for coronary heart disease. We can search the available studies:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>ao[<span class="kw"><a href="https://rdrr.io/r/base/grep.html">grepl</a></span>(<span class="st">"heart disease"</span>, ao<span class="op">$</span>trait), ]</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co">#&gt; # A tibble: 14 x 20</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co">#&gt;    id    trait sample_size   nsnp  year consortium author note  access    mr</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;       &lt;int&gt;  &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;  &lt;int&gt;</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">#&gt;  1 ukb-~ Majo~      361194 1.33e7  2018 NA         Neale~ NA    public     1</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">#&gt;  2 ebi-~ Coro~       86995 2.42e6  2011 NA         Schun~ NA    public     1</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">#&gt;  3 ieu-~ Coro~      194427 7.91e4  2013 NA         Delou~ &lt;NA&gt;  public     1</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co">#&gt;  4 ukb-~ Diag~      463010 9.85e6  2018 MRC-IEU    Ben E~ 4120~ public     1</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co">#&gt;  5 ieu-~ Coro~       86995 2.42e6  2011 NA         Schun~ &lt;NA&gt;  public     1</span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="co">#&gt;  6 ukb-~ Diag~      463010 9.85e6  2018 MRC-IEU    Ben E~ 4120~ public     1</span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="co">#&gt;  7 ieu-~ Coro~      184305 9.46e6  2015 NA         Nikpay &lt;NA&gt;  public     1</span></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="co">#&gt;  8 ukb-~ Isch~      361194 1.36e7  2018 NA         Neale~ NA    public     1</span></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="co">#&gt;  9 ukb-~ Diag~      463010 9.85e6  2018 MRC-IEU    Ben E~ 4120~ public     1</span></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="co">#&gt; 10 ukb-~ Majo~      361194 1.33e7  2018 NA         Neale~ NA    public     1</span></span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="co">#&gt; 11 ukb-~ Diag~      463010 9.85e6  2018 MRC-IEU    Ben E~ 4120~ public     1</span></span>
<span id="cb4-16"><a href="#cb4-16"></a><span class="co">#&gt; 12 ieu-~ Coro~       30482 5.40e5  2011 NA         Peden  &lt;NA&gt;  public     1</span></span>
<span id="cb4-17"><a href="#cb4-17"></a><span class="co">#&gt; 13 ukb-~ Diag~      463010 9.85e6  2018 MRC-IEU    Ben E~ 4120~ public     1</span></span>
<span id="cb4-18"><a href="#cb4-18"></a><span class="co">#&gt; 14 ukb-~ Diag~      463010 9.85e6  2018 MRC-IEU    Ben E~ 4120~ public     1</span></span>
<span id="cb4-19"><a href="#cb4-19"></a><span class="co">#&gt; # ... with 10 more variables: sex &lt;chr&gt;, priority &lt;int&gt;, population &lt;chr&gt;,</span></span>
<span id="cb4-20"><a href="#cb4-20"></a><span class="co">#&gt; #   unit &lt;chr&gt;, subcategory &lt;chr&gt;, category &lt;chr&gt;, ncase &lt;int&gt;, ncontrol &lt;int&gt;,</span></span>
<span id="cb4-21"><a href="#cb4-21"></a><span class="co">#&gt; #   pmid &lt;int&gt;, sd &lt;dbl&gt;</span></span></code></pre></div>
<p>The most recent CARDIOGRAM GWAS is ID number <code>ieu-a-7</code>. We can extract the BMI SNPs from this GWAS as follows:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>chd_out_dat &lt;-<span class="st"> </span><span class="kw"><a href="../reference/extract_outcome_data.html">extract_outcome_data</a></span>(</span>
<span id="cb5-2"><a href="#cb5-2"></a>    <span class="dt">snps =</span> bmi_exp_dat<span class="op">$</span>SNP,</span>
<span id="cb5-3"><a href="#cb5-3"></a>    <span class="dt">outcomes =</span> <span class="st">'ieu-a-7'</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>)</span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">#&gt; Extracting data for 79 SNP(s) from 1 GWAS(s)</span></span></code></pre></div>
<p>The <code>extract_outcome_data</code> is a flexible function. The <code>snps</code> argument only requires an array of rsIDs, and the <code>outcomes</code> variable can be a vector of outcomes. e.g. <code>chd_out_dat(c("rs234", "rs17097147"), c('ieu-a-2', 'ieu-a-7'))</code> will extract the two SNPs from each of the outcomes <code>ieu-a-2</code> and <code>ieu-a-7</code>.</p>
</div>
<div id="ld-proxies" class="section level2">
<h2 class="hasAnchor">
<a href="#ld-proxies" class="anchor"></a>LD proxies</h2>
<p>By default if a particular requested SNP is not present in the outcome GWAS then a SNP (proxy) that is in LD with the requested SNP (target) will be searched for instead. LD proxies are defined using 1000 genomes European sample data. The effect of the proxy SNP on the outcome is returned, along with the proxy SNP, the effect allele of the proxy SNP, and the corresponding allele (in phase) for the target SNP.</p>
<p>The parameters for handling LD proxies are as follows:</p>
<ul>
<li>
<code>proxies</code> = TRUE or FALSE (TRUE by default)</li>
<li>
<code>rsq</code> = numeric value of minimum rsq to find a proxy. Default is 0.8, minimum is 0.6</li>
<li>
<code>palindromes</code> = Allow palindromic SNPs? Default is 1 (yes)</li>
<li>
<code>maf_threshold</code> = If palindromes allowed then what is the maximum minor allele frequency of palindromes allowed? Default is 0.3.</li>
</ul>
</div>
<div id="using-local-gwas-summary-data" class="section level2">
<h2 class="hasAnchor">
<a href="#using-local-gwas-summary-data" class="anchor"></a>Using local GWAS summary data</h2>
<p>If you have GWAS summary data that is not present in IEU GWAS database, this can still be used to perform analysis.</p>
<p>Supposing there is a GWAS summary file called “gwas_summary.csv” with e.g. 2 million rows and it looks like this:</p>
<pre><code>rsid,effect,SE,a1,a2,a1_freq,p-value,Units,Gene,n
rs10767664,0.19,0.030612245,A,T,0.78,5.00E-26,kg/m2,BDNF,225238
rs13078807,0.1,0.020408163,G,A,0.2,4.00E-11,kg/m2,CADM2,221431
rs1514175,0.07,0.020408163,A,G,0.43,8.00E-14,kg/m2,TNNI3K,207641
rs1558902,0.39,0.020408163,A,T,0.42,5.00E-120,kg/m2,FTO,222476
...
...</code></pre>
<p>To extract the exposure SNPs from this data, we would use the following command:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>outcome_dat &lt;-<span class="st"> </span><span class="kw"><a href="../reference/read_outcome_data.html">read_outcome_data</a></span>(</span>
<span id="cb7-2"><a href="#cb7-2"></a>    <span class="dt">snps =</span> bmi_exp_dat<span class="op">$</span>SNP,</span>
<span id="cb7-3"><a href="#cb7-3"></a>    <span class="dt">filename =</span> <span class="st">"gwas_summary.csv"</span>,</span>
<span id="cb7-4"><a href="#cb7-4"></a>    <span class="dt">sep =</span> <span class="st">","</span>,</span>
<span id="cb7-5"><a href="#cb7-5"></a>    <span class="dt">snp_col =</span> <span class="st">"rsid"</span>,</span>
<span id="cb7-6"><a href="#cb7-6"></a>    <span class="dt">beta_col =</span> <span class="st">"effect"</span>,</span>
<span id="cb7-7"><a href="#cb7-7"></a>    <span class="dt">se_col =</span> <span class="st">"SE"</span>,</span>
<span id="cb7-8"><a href="#cb7-8"></a>    <span class="dt">effect_allele_col =</span> <span class="st">"a1"</span>,</span>
<span id="cb7-9"><a href="#cb7-9"></a>    <span class="dt">other_allele_col =</span> <span class="st">"a2"</span>,</span>
<span id="cb7-10"><a href="#cb7-10"></a>    <span class="dt">eaf_col =</span> <span class="st">"a1_freq"</span>,</span>
<span id="cb7-11"><a href="#cb7-11"></a>    <span class="dt">pval_col =</span> <span class="st">"p-value"</span>,</span>
<span id="cb7-12"><a href="#cb7-12"></a>    <span class="dt">units_col =</span> <span class="st">"Units"</span>,</span>
<span id="cb7-13"><a href="#cb7-13"></a>    <span class="dt">gene_col =</span> <span class="st">"Gene"</span>,</span>
<span id="cb7-14"><a href="#cb7-14"></a>    <span class="dt">samplesize_col =</span> <span class="st">"n"</span></span>
<span id="cb7-15"><a href="#cb7-15"></a>)</span></code></pre></div>
<p>This returns an outcome data frame with only the SNPs that were requested (if those SNPs were present in the “gwas_summary.csv” file).</p>
</div>
<div id="outcome-data-format" class="section level2">
<h2 class="hasAnchor">
<a href="#outcome-data-format" class="anchor"></a>Outcome data format</h2>
<p>The <code>extract_outcome_data</code> function returns a table of SNP effects for the requested SNPs on the requested outcomes. The format of the data is similar to the exposure data format, except the main columns are as follows:</p>
<ul>
<li><code>SNP</code></li>
<li><code>beta.outcome</code></li>
<li><code>se.outcome</code></li>
<li><code>samplesize.outcome</code></li>
<li><code>ncase.outcome</code></li>
<li><code>ncontrol.outcome</code></li>
<li><code>pval.outcome</code></li>
<li><code>eaf.outcome</code></li>
<li><code>effect_allele.outcom</code></li>
<li><code>other_allele.outcome</code></li>
<li><code>units.outcome</code></li>
<li><code>outcome</code></li>
<li><code>consortium.outcome</code></li>
<li><code>year.outcome</code></li>
<li><code>pmid.outcome</code></li>
<li><code>id.outcome</code></li>
<li><code>originalname.outcome</code></li>
<li><code>proxy.outcome</code></li>
<li><code>target_snp.outcome</code></li>
<li><code>proxy_snp.outcome</code></li>
<li><code>target_a1.outcome</code></li>
<li><code>target_a2.outcome</code></li>
<li><code>proxy_a1.outcome</code></li>
<li><code>proxy_a2.outcome</code></li>
<li><code>mr_keep.outcome</code></li>
<li><code>data_source.outcome</code></li>
</ul>
</div>
<div id="more-advanced-use-of-local-data" class="section level2">
<h2 class="hasAnchor">
<a href="#more-advanced-use-of-local-data" class="anchor"></a>More advanced use of local data</h2>
<p>We have developed a summary data format called “GWAS VCF”, which is designed to store GWAS results in a strict and performant way. It is possible to use this format with the TwoSampleMR package. Going down this avenue also allows you to use LD proxy functionality using your own LD reference files (or ones that we provide). For more details, see this package that explains the format and how to query it in R:</p>
<p><a href="https://github.com/mrcieu/gwasvcf" class="uri">https://github.com/mrcieu/gwasvcf</a></p>
<p>and this package for how to connect the data to other packages including TwoSampleMR</p>
<p><a href="https://github.com/MRCIEU/gwasglue" class="uri">https://github.com/MRCIEU/gwasglue</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#available-studies-in-ieu-gwas-database">Available studies in IEU GWAS database</a></li>
      <li><a href="#extracting-particular-snps-from-particular-studies">Extracting particular SNPs from particular studies</a></li>
      <li><a href="#ld-proxies">LD proxies</a></li>
      <li><a href="#using-local-gwas-summary-data">Using local GWAS summary data</a></li>
      <li><a href="#outcome-data-format">Outcome data format</a></li>
      <li><a href="#more-advanced-use-of-local-data">More advanced use of local data</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Gibran Hemani, Philip Haycock, Jie Zheng, Tom Gaunt, Ben Elsworth, Tom Palmer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
